<html>
  <head>
    <title>Demo</title>

    <script src="../dist/dirty-form.js"></script>
    <script>
      document.addEventListener("DOMContentLoaded", () => {
        const form = document.getElementById("form");
        const dirtyForm = new DirtyForm(form, {
          onDirty: () => {
            form.querySelector("input[type=submit]").removeAttribute("disabled");
          }
        });

        form.addEventListener("submit", () => {
          dirtyForm.disconnect();
        });
      });
    </script>

    <!-- Trix -->
    <link rel="stylesheet" type="text/css" href="https://unpkg.com/trix@2.0.8/dist/trix.css">
    <script type="text/javascript" src="https://unpkg.com/trix@2.0.8/dist/trix.umd.min.js"></script>
  </head>
  <body>
    <h1>First page</h1>
    <p>
      <a href="second.html">Go to second page</a>
    </p>
    <div>
      <form action="second.html" method="post" id="form">
        <p>
          <input type="text" name="name">
        </p>
        <p>
          <select name="enabled">
            <option value="true">True</option>
            <option value="false">False</option>
          </select>
        </p>
        <p>
          <textarea name="message"></textarea>
        </p>
        <p>
          <input id="x" type="hidden" name="content">
          <trix-editor input="x"></trix-editor>
        </p>
        <p>
          <input type="submit" value="Submit" disabled>
        </p>
      </form>
    </div>
  </body>
</html>
